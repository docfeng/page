var g=new gitapi4("docfeng");
var query=`query {
  viewer {
    login
    url
    createdAt
    repositories(first : 15, isFork : false) {
      edges {
        node {
          name
          url 
          id
          __typename
         issues(first: 10) {
            totalCount
            edges {
              node {
                title
                bodyHTML
              }
            }
          }
          
         
          
         } 
      }
    }
  }
}`;
var query=`query{
  repository(owner: "docfeng", name: "page") {
  
    pullRequest(number: 1) {
      commits(first: 10) {
        edges {
          node {
            commit {
              oid
              message
            }
          }
        }
      }
      comments(first: 10) {
        edges {
          node {
            body
            author {
              login
            }
          }
        }
      }
      reviews(first: 10) {
        edges {
          node {
            state
          }
        }
      }
    }
  }
}

`
g.query(query).then(function(a){
alert(JSON.stringify(JSON.parse(a),null,4));
})
alert()

/*
query:viewer,repository


viewer{
    login
    url
    createAt
    repositories
    
}

repositories(first:5,isFork:false){
  edges
}

         stargazers (first : 10){
            edges {
              starredAt
              node {
                name
              }
            }
          }
          forks (first : 10){
            edges {
              node {
                createdAt
                name
              }
            }
          }
        
        issues(first: 10) {
            totalCount
            edges {
              node {
                title
                bodyHTML
              }
            }
          }

*/